<ion-header>
    <ion-toolbar color="primary">
      <ion-buttons slot="primary">
          <ion-button 
                  icon-only 
                  (click)="dismiss()">
            <ion-icon name="close"></ion-icon>
          </ion-button>
      </ion-buttons>
      <ion-title>{{translate.instant('Ansprechpartner')}}</ion-title>
    </ion-toolbar>
  
    <ion-toolbar no-border-top>
      <ion-segment [(ngModel)]="kundendaten">
        <ion-segment-button value="person" style="background-color: rgba(17, 121, 170); color: white;">
          <ion-icon name="person"></ion-icon>
        </ion-segment-button>
        <ion-segment-button value="create" style="background-color: rgba(17, 121, 170); color: white;">
          <ion-icon name="create"></ion-icon>
        </ion-segment-button>
      </ion-segment>
    </ion-toolbar>
  </ion-header>
  
  <ion-content>
    <div [ngSwitch]="kundendaten">
  
      <ion-list *ngSwitchCase="'person'">
        <!-- Tab panes -->
        <div role="tabpanel" class="tab-pane active" id="partner-select">
          <!-- PARTNER -->
          <div class="ansprechpartner-row" *ngFor="let contactPerson of contactPersonList">
            <div class="row ansprechpartner-row">
              <!-- NAME -->
              <div class="col-lg-10 col-md-9 col-8 " (click)="setContactPerson(contactPerson);">
                <div class="ansprechpartner-name" style="font-size:1.5em;">{{contactPerson.first_name}} {{contactPerson.last_name}}</div>
              <div class="ansprechpartner-name" style="font-size:1.5em;"> </div>
                <div class="ansprechpartner-position" style="font-size:1.1em;">{{contactPerson.department}}</div>
              <div class="ansprechpartner-position" style="font-size:1.1em;"> </div>
              </div>
              <!-- ACTION -->
              <div class="col-lg-2 col-md-3 col-4 push-left" style="display: flex;" *ngIf="userdata.Type<20">
                <div class="btn btn-round-green" (click)="editContactPerson(contactPerson);" style="margin-right: 10px">
                  <ion-icon class="footerIcon" name="create"></ion-icon>
                </div>
                <div class="btn btn-round-red" (click)="delContactPerson(contactPerson);" >
                  <ion-icon class="footerIcon" name="trash"></ion-icon>
                </div>
              </div>
            </div>
          </div>
        
          <div class="modal-footer">
           	<ion-button type="button" class="btn btn-modal-danger" (click)="dismiss()">
              <ion-icon class="footerIcon" name="close"></ion-icon>
            </ion-button>
          </div>
        </div>
      </ion-list>
  
      <ion-list *ngSwitchCase="'create'">
        <ion-grid>
          <ion-row>  
            <!-- Left -->
            <ion-col size-xl="12" size-lg="12" size-md="12" size-sm="12" size="12" style="top: -20px;">
              <!-- Row 0-->
              <ion-row>
                <ion-col size="12" >
                  <h6 style="font-size: 16px;">{{translate.instant('Ansprechpartner Daten')}}</h6>
                </ion-col>
              </ion-row>
              <!-- Row 1 -->
              <ion-row>
                <ion-col size="12">
                  <ion-item no-lines style="padding-left: 0px;">
                    <ion-label position="floating">{{translate.instant('Name')}} *</ion-label>
                    <ion-input type="text" 
                                id="ansp_name" 
                                [ngClass]="{required:pfelder}" 
                                id="ansp_name" 
                                [(ngModel)]="contactPersonEdit.last_name">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <!-- Row 2 -->
              <ion-row>
                <ion-col size="12">
                  <ion-item no-lines style="padding-left: 0px;">
                    <ion-label  position="floating">{{translate.instant('Vorname')}} *</ion-label>
                    <ion-input type="text" 
                                id="ansp_vorname" 
                                [ngClass]="{required:pfelder}" 
                                [(ngModel)]="contactPersonEdit.first_name">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <!-- Row 3 -->
              <ion-row>
                <ion-col size="12">
                  <ion-item no-lines style="padding-left: 0px;">
                    <ion-label position="floating">{{translate.instant('E-Mail')}} *</ion-label>
                    <ion-input type="text" 
                                id="ansp_eMail" 
                                [ngClass]="{required:pfelder}" 
                                [(ngModel)]="contactPersonEdit.email">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <!-- Row 4 -->
              <ion-row>
                <ion-col size="12">
                  <ion-item no-lines style="padding-left: 0px;">
                    <ion-label  position="floating">{{translate.instant('Abteilung')}}</ion-label>
                    <ion-input type="text" 
                                id="ansp_l_abteilung" 
                                [ngClass]="{required:pfelder}" 
                                [(ngModel)]="contactPersonEdit.department">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-col>  
          </ion-row>
        </ion-grid>
  
        <div class="highlightFehler" *ngIf="pfelder"> * {{translate.instant('Bitte füllen Sie alle Pflichtfelder aus.')}}</div>
        <div class="highlightFehler" *ngIf="email_felder"> * {{translate.instant('E-Mail nicht standardkonform.')}}</div>

        <div class="modal-footer">    
         	<ion-button 
                  type="button" 
                  class="btn btn-modal-danger" 
                  (click)="dismiss()">
            <ion-icon class="footerIcon" name="close"></ion-icon>
          </ion-button>
          <!-- Edit -->
         	<ion-button 
                  type="button" 
                  class="btn btn-modal-success" 
                  [hidden]="contactPersonEditOderNeu==1" 
                  (click)="updateData(1);">
            <ion-icon class="footerIcon" name="checkmark"></ion-icon>
          </ion-button>
          <!-- New -->
         	<ion-button 
                  type="button" 
                  class="btn btn-modal-success" 
                  [hidden]="contactPersonEditOderNeu==0" 
                  (click)="updateData(0);">
            <ion-icon class="footerIcon" name="checkmark"></ion-icon>
          </ion-button>
        </div>
      </ion-list>
  
    </div>
  </ion-content>
  
  