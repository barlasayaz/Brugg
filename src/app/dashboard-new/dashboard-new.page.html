<main-nav aktivPage="DashboardNew"></main-nav>

<ion-content>

	<div class="ek-content">

		<div class="container container-fix">

			<div class="mt20 content-sm">
				<ion-grid>

					<ion-row>
						<ion-col size="12" size-lg="6" id="na_dashboard_termine" [ngClass]="className=='showdashfirst' ? 'showdashfirst' : 'showdashsecond'">
							<div class="table-responsive" id="ps_dashboard_termine">
								<div class="table table-striped" id="dashboard_termine">
									<div class="thead">
										<div class="tr table-header">
											<div class="table-header-title">
												<ion-icon name="calendar"></ion-icon>
												{{'Ihre nächsten Termine' | translate}}
											</div>
											<div class="hidden-sm-down">{{rowRecordsAppointment}} {{'Datensätze von' | translate}} {{totalRecordsAppointment}}</div>
										</div>
									</div>
									<div class="tbody">
										<div class="tr table-subheader table-subheader-fix">
											<div class="table-subheader-buttons">
												<ion-button size="small" (click)="newPrAppointment()">
													<ion-icon name="add"></ion-icon>
												</ion-button>												
												<!-- 
												<button ion-button small (click)="goStatistik()">
													<ion-icon name="person"></ion-icon>
												</button>
												-->
											</div>
											<div class="search-search">
												<ion-input type="text" placeholder="{{'Suche' |translate }}" [(ngModel)]="filterValueApp" (input)="search_all_app()"
												 class="search-text-input-left">
												</ion-input>
												<!-- <button ion-button small (click)="search_all_app()" style="margin-top:7px;">
													<ion-icon name="search"></ion-icon>
												</button> -->
											</div>
										</div>
									</div>
									<div class="tbody scrollcontent">
										<div class="tr table-subheader">
											<div class="th date">{{'Datum' | translate}}</div>
											<div class="th time">{{'Zeit' | translate}}</div>
											<div class="th">{{'Firma' | translate}}</div>
											<div class="th name">{{'Terminart' | translate}}</div>
										</div>
										<div style="max-height: 465px; overflow-x: auto;">
											<div class="tr table-body {{item.classes}}" *ngFor="let item of nextAppointment">
												<div class="td date clickable" (click)="editAppointment(item)">
													<div class="before">{{'Datum' | translate}}</div>
													<div class="after">{{maskDate(item.appointment_date)}}</div>
												</div>
												<div class="td time">
													<div class="before">{{'Zeit' | translate}}</div>
													<div class="after">{{item.start_time}}</div>
												</div>
												<div class="td clickable"(click)="go(item.idCustomer);">
													<div class="before">{{'Firma' | translate}}</div>
													<div class="after">{{item.company}}</div>
												</div>
												<div class="td name">
													<div class="before">{{'Terminart' | translate}}</div>
													<div class="after">{{item.appointment_type_text}}</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</ion-col>
						<ion-col size="12" size-lg="6" id="ps_dashboard_pruefungen" [ngClass]="className=='showdashsecond' ? 'showdashfirst' : 'showdashsecond'">
							<div class="table-responsive">
								<div st-table="CustomerListeDisplayed" class="table table-striped" st-safe-src="listeCustomer" id="dashboard_Customer_ps">
									<div class="thead">
										<div class="tr table-header">
											<div class="table-header-title">
												{{'Kunden' | translate }}
											</div>
											<div class="hidden-sm-down">{{rowRecordsInspection}} {{'Datensätze von' | translate}} {{totalRecordsInspection}}</div>
										</div>
									</div>
									<div class="tbody">
										<div class="tr table-subheader table-subheader-fix">
											<div class="table-subheader-buttons">
												<ion-button size="small" (click)="downloadXLS()">
													<ion-icon name="download"></ion-icon>
													&nbsp; XLS
												</ion-button>
											</div>
											<div class="search-search">
												<ion-input type="text" placeholder="{{'Suche' |translate }}" [(ngModel)]="filterValue" (input)="search_all()"
												 class="search-text-input-right">
												</ion-input>
												<!-- <button ion-button small (click)="search_all()" style="margin-top:7px;">
													<ion-icon name="search"></ion-icon>
												</button> -->
											</div>
										</div>
									</div>
									<div class="tbody scrollcontent">
										<div class="tr table-subheader">
											<div class="th time" st-sort="id">#</div>
											<div class="th name" st-sort="firma" translate='Firma'>{{'Firma' | translate}}</div>
											<div class="th name" st-sort="zip_code">{{'PLZ' | translate}}</div>
											<div class="th name" st-sort="place">{{'Ort' | translate}}</div>
										</div>
										<div style="max-height: 465px; overflow-x: auto;">
											<div class="tr table-body" *ngFor="let row of listInspection">
												<div class="td time" >
													<div class="before">#</div>
													<div class="after">{{row.customer_number}}</div>
												</div>
												<div class="td clickable name" (click)="newPrAppointment(row)">
													<div class="before">{{'Firma' | translate}}</div>
													<div class="after">{{row.company}}</div>
												</div>
												<div class="td clickable name" (click)="go(row.idCustomer)" >
													<div class="before">{{'PLZ' | translate}}<</div>
													<div class="after">{{row.zip_code}}</div>
												</div>
												<div class="td clickable name" (click)="go(row.idCustomer)" >
													<div class="before">{{'Ort' | translate}}</div>
													<div class="after">{{row.place}}</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</ion-col>
					</ion-row>

				</ion-grid>
			</div>

		</div>

	</div>

</ion-content>